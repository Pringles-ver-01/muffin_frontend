{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\src\\\\components\\\\independent\\\\auth\\\\project\\\\TagsProjectRoles.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 187px;\\n  height: 29px;\\n  object-fit: contain;\\n  border-radius: 10px;\\n  border: solid 1px var(--white-two);\\n  outline: none;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\nimport styled from \"styled-components\";\nimport * as service from \"../../../../services/ProjectService\";\nvar TAGDIV2 = styled.div(_templateObject());\nvar KeyCodes = {\n  comma: 188,\n  enter: 13\n};\nvar delimiters = [KeyCodes.comma, KeyCodes.enter];\nexport var TagsProjectRoles = /*#__PURE__*/function (_Component) {\n  _inherits(TagsProjectRoles, _Component);\n\n  function TagsProjectRoles(props) {\n    var _this;\n\n    _classCallCheck(this, TagsProjectRoles);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TagsProjectRoles).call(this, props));\n    _this.state = {\n      tags: [],\n      sug: [],\n      suggestions: [],\n      roles: []\n    };\n    _this.handleDelete = _this.handleDelete.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAddition = _this.handleAddition.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDrag = _this.handleDrag.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTagClick = _this.handleTagClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.confirmRoles = _this.confirmRoles.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  /* 태그 */\n\n\n  _createClass(TagsProjectRoles, [{\n    key: \"handleDelete\",\n    value: function handleDelete(i) {\n      var _this$state = this.state,\n          tags = _this$state.tags,\n          roles = _this$state.roles;\n      this.setState({\n        tags: tags.filter(function (tag, index) {\n          return index !== i;\n        }),\n        roles: roles.filter(function (tag, index) {\n          return index !== i;\n        })\n      });\n    }\n  }, {\n    key: \"confirmRoles\",\n    value: function confirmRoles() {\n      var _this2 = this;\n\n      //부서목록 가져오기\n      service.projectRole(this.props.id).then(function (res) {\n        console.log(\"---------------------\");\n        {\n          for (var i = 0; i < res.data.data.length; i++) {\n            _this2.setState(function (state) {\n              return {\n                sug: [{\n                  id: res.data.data[i].role,\n                  text: res.data.data[i].role\n                }],\n                suggestions: _this2.state.suggestions.concat(_this2.state.sug)\n              };\n            });\n          }\n        }\n        console.log(_this2.state.suggestions);\n      }, function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"handleAddition\",\n    value: function handleAddition(tag) {\n      var _this3 = this;\n\n      this.setState(function (state) {\n        return {\n          tags: [].concat(_toConsumableArray(state.tags), [tag]),\n          roles: _this3.state.roles.concat(tag.text)\n        };\n      }, function () {\n        console.log(\"tag: \" + _this3.state.roles);\n\n        _this3.props.callbackFromParent(_this3.state.roles);\n      });\n    }\n  }, {\n    key: \"handleDrag\",\n    value: function handleDrag(tag, currPos, newPos) {\n      var tags = _toConsumableArray(this.state.tags);\n\n      var newTags = tags.slice();\n      newTags.splice(currPos, 1);\n      newTags.splice(newPos, 0, tag); // re-render\n\n      this.setState({\n        tags: newTags\n      });\n    }\n  }, {\n    key: \"handleTagClick\",\n    value: function handleTagClick(tags) {\n      console.log(\"tags : \" + tags + \" was clicked\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          tags = _this$state2.tags,\n          suggestions = _this$state2.suggestions;\n      var id = this.props.id;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(TAGDIV2, {\n        onClick: this.confirmRoles,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ReactTags, {\n        tags: tags,\n        suggestions: suggestions,\n        delimiters: delimiters,\n        handleDelete: this.handleDelete,\n        handleAddition: this.handleAddition,\n        handleDrag: this.handleDrag,\n        handleTagClick: this.handleTagClick,\n        autofocus: false,\n        placeholder: \"\",\n        classNames: {\n          tags: \"tag-project2\",\n          tagInputField: \"tagInputField-project3\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return TagsProjectRoles;\n}(Component);\nexport default TagsProjectRoles;","map":{"version":3,"sources":["C:/Users/o_ov0/Downloads/Front-End-develop/Front-End-develop/client/src/components/independent/auth/project/TagsProjectRoles.js"],"names":["React","Component","WithContext","ReactTags","styled","service","TAGDIV2","div","KeyCodes","comma","enter","delimiters","TagsProjectRoles","props","state","tags","sug","suggestions","roles","handleDelete","bind","handleAddition","handleDrag","handleTagClick","confirmRoles","i","setState","filter","tag","index","projectRole","id","then","res","console","log","data","length","role","text","concat","err","callbackFromParent","currPos","newPos","newTags","slice","splice","tagInputField"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\nimport styled from \"styled-components\";\nimport * as service from \"../../../../services/ProjectService\";\n\nconst TAGDIV2 = styled.div`\n  width: 187px;\n  height: 29px;\n  object-fit: contain;\n  border-radius: 10px;\n  border: solid 1px var(--white-two);\n  outline: none;\n`;\n\nconst KeyCodes = {\n  comma: 188,\n  enter: 13\n};\n\nconst delimiters = [KeyCodes.comma, KeyCodes.enter];\n\nexport class TagsProjectRoles extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      tags: [],\n      sug: [],\n      suggestions: [],\n      roles: []\n    };\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleAddition = this.handleAddition.bind(this);\n    this.handleDrag = this.handleDrag.bind(this);\n    this.handleTagClick = this.handleTagClick.bind(this);\n    this.confirmRoles = this.confirmRoles.bind(this);\n  }\n\n  /* 태그 */\n  handleDelete(i) {\n    const { tags, roles } = this.state;\n    this.setState({\n      tags: tags.filter((tag, index) => index !== i),\n      roles: roles.filter((tag, index) => index !== i)\n    });\n  }\n\n  confirmRoles() {\n    //부서목록 가져오기\n    service.projectRole(this.props.id).then(\n      res => {\n        console.log(\"---------------------\");\n        {\n          for (var i = 0; i < res.data.data.length; i++) {\n            this.setState(state => ({\n              sug: [{ id: res.data.data[i].role, text: res.data.data[i].role }],\n              suggestions: this.state.suggestions.concat(this.state.sug)\n            }));\n          }\n        }\n        console.log(this.state.suggestions);\n      },\n      err => {\n        console.log(err);\n      }\n    );\n  }\n\n  handleAddition(tag) {\n    this.setState(\n      state => {\n        return {\n          tags: [...state.tags, tag],\n          roles: this.state.roles.concat(tag.text)\n        };\n      },\n      () => {\n        console.log(\"tag: \" + this.state.roles);\n        this.props.callbackFromParent(this.state.roles);\n      }\n    );\n  }\n\n  handleDrag(tag, currPos, newPos) {\n    const tags = [...this.state.tags];\n    const newTags = tags.slice();\n\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag);\n\n    // re-render\n    this.setState({ tags: newTags });\n  }\n\n  handleTagClick(tags) {\n    console.log(\"tags : \" + tags + \" was clicked\");\n  }\n\n  render() {\n    const { tags, suggestions } = this.state;\n    const { id } = this.props;\n    return (\n      <div>\n        <TAGDIV2 onClick={this.confirmRoles}>\n          <ReactTags\n            tags={tags}\n            suggestions={suggestions}\n            delimiters={delimiters}\n            handleDelete={this.handleDelete}\n            handleAddition={this.handleAddition}\n            handleDrag={this.handleDrag}\n            handleTagClick={this.handleTagClick}\n            autofocus={false}\n            placeholder=\"\"\n            classNames={{\n              tags: \"tag-project2\",\n              tagInputField: \"tagInputField-project3\"\n            }}\n          />\n        </TAGDIV2>\n      </div>\n    );\n  }\n}\n\nexport default TagsProjectRoles;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\src\\\\components\\\\independent\\\\conferenceRoom\\\\makeRoom\\\\MakeRoom.js\";\n\n/**\n * [OUTLINE]\n * 담당자 : 안지후\n * 화상회의 홈에서 화상회의를 개설하는 팝업창 화면 구성\n */\nimport React, { Component } from \"react\";\nimport \"./makeroom.style.css\";\nimport Modal from \"react-responsive-modal\";\nimport MakeIssue from \"../makeIssue/MakeIssue\";\nimport searchissue from \"../../../../assets/conference/searchissue.png\";\nimport DatePicker from \"react-datepicker\";\nimport BigDatePicker from \"./BigDatePicker\";\nimport SmallDatePicker from \"./SmallDatePicker\";\nimport TagsTopic from \"./TagsTopic\";\nimport TagsPeople from \"./TagsPeople\";\nimport * as service from \"../../../../services/ConferenceRoomService\";\nimport * as service2 from \"../../../../services/VideoService\";\nimport { withRouter } from \"react-router-dom\";\n\nvar MakeRoom = /*#__PURE__*/function (_Component) {\n  _inherits(MakeRoom, _Component);\n\n  function MakeRoom(props) {\n    var _this;\n\n    _classCallCheck(this, MakeRoom);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MakeRoom).call(this, props));\n\n    _this.onOpenModal = function () {\n      _this.setState({\n        open: true,\n        title: \"토픽을 가져올 이슈를 선택하세요\",\n        issueCome: false\n      });\n    };\n\n    _this.onCloseModal = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleChange = function (date) {\n      _this.setState({\n        startDay: date,\n        issueCome: false\n      });\n    };\n\n    _this.handleChange2 = function (date) {\n      _this.setState({\n        startDate: date,\n        issueCome: false\n      });\n    };\n\n    _this.myCallback = function (dataFromChild) {\n      _this.setState({\n        topic_tag: dataFromChild,\n        issueCome: false\n      }, function () {\n        console.log(\"text topic in makeroom \", _this.state.topic_tag);\n      });\n    };\n\n    _this.myCallback2 = function (dataFromChild) {\n      _this.setState({\n        people_tag: dataFromChild,\n        issueCome: false\n      });\n    };\n\n    _this.myCallback3 = function (dataFromChild) {\n      _this.setState({\n        issue: dataFromChild,\n        topic_tag: _this.state.topic_tag.concat(dataFromChild),\n        issueCome: true\n      }, function () {\n        console.log(\"issue in makeroom\", _this.state.issue); //tagstopic으로 보내기 위해\n\n        console.log(\"issue topic in makeroom \", _this.state.topic_tag);\n      });\n    };\n\n    _this.gotoVideo = function () {\n      //회의실 개설하기\n      var _this$state = _this.state,\n          startDay = _this$state.startDay,\n          startDate = _this$state.startDate; //console.log(datetime.toISOString());\n\n      console.log(_this.state.roomTitle);\n      console.log(_this.state.topic_tag);\n      console.log(_this.state.people_tag);\n\n      if (_this.state.isChecked) {\n        //지금시간, 비활성화 -> 화상회의로 넘어가기\n        service.confCreate(localStorage.getItem(\"projectId\"), _this.state.roomTitle, _this.state.topic_tag, _this.state.selectedDate, _this.state.people_tag).then(function (res) {\n          console.log(res.data.data.id);\n          localStorage.setItem(\"roomId\", res.data.data.id);\n          /**회의 시작 API */\n\n          service2.getVideoStart(localStorage.getItem(\"roomId\")).then(function (res) {\n            console.log(\"화상회의에 오신 걸 환영합니다\");\n            console.log(res.data);\n\n            _this.props.history.push(\"/room/\".concat(localStorage.getItem(\"roomId\")));\n          }, function (err) {\n            console.log(err);\n          }); // this.props.history.push(`/room/${localStorage.getItem(\"roomId\")}`);\n\n          console.log(\"바로 넘어가는 회의실 개설 성공\");\n          console.log(res);\n        }, function (err) {\n          console.log(\"바로 넘어가는 회의실 개설 실패\");\n          console.log(err);\n        });\n      } else {\n        //설정한 시간, 활성화 -> 회의목록으로 넘어가기\n        var datetime = new Date(startDay.getFullYear(), startDay.getMonth(), startDay.getDate(), startDate.getHours(), startDate.getMinutes(), startDate.getSeconds());\n        service.confCreate(localStorage.getItem(\"projectId\"), _this.state.roomTitle, _this.state.topic_tag, datetime.toISOString(), _this.state.people_tag).then(function (res) {\n          _this.props.history.push(\"/home/conferenceRoom/\".concat(localStorage.getItem(\"projectId\")));\n\n          console.log(\"회의목록 돌아가서 데이터 확인하자\");\n\n          _this.props.onCloseModal(); //TODO: 자동 새로고침 방법\n\n\n          _this.forceUpdate();\n        }, function (err) {\n          console.log(\"회의목록으로 못돌아감\");\n          console.log(err);\n        });\n      }\n    };\n\n    _this.state = {\n      roomTitle: \"none\",\n      tags: [],\n      open: false,\n      title: \"\",\n      selectedDate: new Date().toISOString(),\n      //현재 시간\n      topic_tag: [],\n      people_tag: [],\n      isChecked: true,\n      issue: [],\n      issueCome: false\n    };\n    _this.startNow = _this.startNow.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  /* 이슈에서 가져오기 */\n\n\n  _createClass(MakeRoom, [{\n    key: \"startNow\",\n    value: function startNow() {\n      this.setState({\n        isChecked: !this.state.isChecked,\n        issueCome: false\n      });\n      console.log(this.state.isChecked); // 체크 눌린상태 : false, 체크 떼면 true\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          open = _this$props.open,\n          title = _this$props.title,\n          onCloseModal = _this$props.onCloseModal;\n      var isChecked = this.state.isChecked;\n      return /*#__PURE__*/React.createElement(Modal, {\n        open: open,\n        onClose: onCloseModal,\n        center: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"makeroomdiv\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"roomtitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }\n      }, title), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"roomtitle2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }\n      }, \"\\uBC29\\uC81C\\uBAA9\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"roominput\",\n        placeholder: \"\\uBC29 \\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n        onChange: function onChange(e) {\n          _this2.setState({\n            roomTitle: e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"roomtitle2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }\n      }, \"\\uBA54\\uC778 \\uD1A0\\uD53D\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tagdiv\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(TagsTopic, {\n        callbackFromParent: this.myCallback,\n        issue: this.state.issue,\n        issueCome: this.state.issueCome,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"getissue\",\n        onClick: this.onOpenModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: searchissue,\n        className: \"getissueimg\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 17\n        }\n      }), \"\\uC774\\uC288\\uC5D0\\uC11C \\uAC00\\uC838\\uC624\\uAE30\"))), /*#__PURE__*/React.createElement(MakeIssue, {\n        open: this.state.open,\n        title: this.state.title,\n        onCloseModal: this.onCloseModal,\n        callbackFromParent: this.myCallback3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"roomtitle2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }\n      }, \"\\uC2DC\\uC791 \\uC2DC\\uAC04\"), isChecked ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(DatePicker, {\n        id: \"datepicker\",\n        customInput: /*#__PURE__*/React.createElement(BigDatePicker, {\n          able: \"disable\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 32\n          }\n        }),\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(DatePicker, {\n        id: \"datepicker\",\n        customInput: /*#__PURE__*/React.createElement(SmallDatePicker, {\n          able: \"disable\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 32\n          }\n        }),\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 17\n        }\n      })) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(DatePicker, {\n        id: \"datepicker\",\n        customInput: /*#__PURE__*/React.createElement(BigDatePicker, {\n          able: \"able\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 32\n          }\n        }),\n        selected: this.state.startDay,\n        onChange: this.handleChange,\n        minDate: new Date(),\n        relativeSize: true,\n        dateFormat: \"yyyy/MM/dd\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(DatePicker, {\n        id: \"datepicker\",\n        customInput: /*#__PURE__*/React.createElement(SmallDatePicker, {\n          able: \"able\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 32\n          }\n        }),\n        selected: this.state.startDate,\n        onChange: this.handleChange2,\n        showTimeSelect: true,\n        showTimeSelectOnly: true,\n        dateFormat: \"h:mm aa\",\n        timeCaption: \"Time:\",\n        relativeSize: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"time-start-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        checked: this.state.isChecked,\n        onChange: this.startNow,\n        className: \"checkbox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 15\n        }\n      }), \"\\uC9C0\\uAE08 \\uC2DC\\uC791\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"roomtitle2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }\n      }, \"\\uCC38\\uC5EC\\uC790\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tag-inline-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(TagsPeople, {\n        callbackFromParent: this.myCallback2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row-div2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"makebutton\",\n        onClick: this.gotoVideo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }\n      }, \"\\uAC1C\\uC124\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"cancelbutton\",\n        onClick: onCloseModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }\n      }, \"\\uCDE8\\uC18C\"))));\n    }\n  }]);\n\n  return MakeRoom;\n}(Component);\n\nexport default withRouter(MakeRoom);","map":{"version":3,"sources":["C:/Users/o_ov0/Downloads/Front-End-develop/Front-End-develop/client/src/components/independent/conferenceRoom/makeRoom/MakeRoom.js"],"names":["React","Component","Modal","MakeIssue","searchissue","DatePicker","BigDatePicker","SmallDatePicker","TagsTopic","TagsPeople","service","service2","withRouter","MakeRoom","props","onOpenModal","setState","open","title","issueCome","onCloseModal","handleChange","date","startDay","handleChange2","startDate","myCallback","dataFromChild","topic_tag","console","log","state","myCallback2","people_tag","myCallback3","issue","concat","gotoVideo","roomTitle","isChecked","confCreate","localStorage","getItem","selectedDate","then","res","data","id","setItem","getVideoStart","history","push","err","datetime","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","toISOString","forceUpdate","tags","startNow","bind","e","target","value"],"mappings":"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","sourcesContent":["/**\n * [OUTLINE]\n * 담당자 : 안지후\n * 화상회의 홈에서 화상회의를 개설하는 팝업창 화면 구성\n */\n\nimport React, { Component } from \"react\";\nimport \"./makeroom.style.css\";\nimport Modal from \"react-responsive-modal\";\nimport MakeIssue from \"../makeIssue/MakeIssue\";\nimport searchissue from \"../../../../assets/conference/searchissue.png\";\nimport DatePicker from \"react-datepicker\";\nimport BigDatePicker from \"./BigDatePicker\";\nimport SmallDatePicker from \"./SmallDatePicker\";\nimport TagsTopic from \"./TagsTopic\";\nimport TagsPeople from \"./TagsPeople\";\nimport * as service from \"../../../../services/ConferenceRoomService\";\nimport * as service2 from \"../../../../services/VideoService\";\n\nimport { withRouter } from \"react-router-dom\";\n\nclass MakeRoom extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      roomTitle: \"none\",\n      tags: [],\n      open: false,\n      title: \"\",\n      selectedDate: new Date().toISOString(), //현재 시간\n      topic_tag: [],\n      people_tag: [],\n      isChecked: true,\n      issue: [],\n      issueCome: false\n    };\n\n    this.startNow = this.startNow.bind(this);\n  }\n\n  /* 이슈에서 가져오기 */\n  onOpenModal = () => {\n    this.setState({\n      open: true,\n      title: \"토픽을 가져올 이슈를 선택하세요\",\n      issueCome: false\n    });\n  };\n\n  onCloseModal = () => {\n    this.setState({ open: false });\n  };\n\n  /* 날짜 */\n  handleChange = date => {\n    this.setState({\n      startDay: date,\n      issueCome: false\n    });\n  };\n  handleChange2 = date => {\n    this.setState({\n      startDate: date,\n      issueCome: false\n    });\n  };\n\n  //토픽\n  myCallback = dataFromChild => {\n    this.setState(\n      {\n        topic_tag: dataFromChild,\n        issueCome: false\n      },\n      () => {\n        console.log(\"text topic in makeroom \", this.state.topic_tag);\n      }\n    );\n  };\n\n  //참여자\n  myCallback2 = dataFromChild => {\n    this.setState({ people_tag: dataFromChild, issueCome: false });\n  };\n\n  //이슈에서 가져오는 토픽\n  myCallback3 = dataFromChild => {\n    this.setState(\n      {\n        issue: dataFromChild,\n        topic_tag: this.state.topic_tag.concat(dataFromChild),\n        issueCome: true\n      },\n      () => {\n        console.log(\"issue in makeroom\", this.state.issue); //tagstopic으로 보내기 위해\n        console.log(\"issue topic in makeroom \", this.state.topic_tag);\n      }\n    );\n  };\n\n  gotoVideo = () => {\n    //회의실 개설하기\n    const { startDay, startDate } = this.state;\n\n    //console.log(datetime.toISOString());\n    console.log(this.state.roomTitle);\n    console.log(this.state.topic_tag);\n    console.log(this.state.people_tag);\n\n    if (this.state.isChecked) {\n      //지금시간, 비활성화 -> 화상회의로 넘어가기\n      service\n        .confCreate(\n          localStorage.getItem(\"projectId\"),\n          this.state.roomTitle,\n          this.state.topic_tag,\n          this.state.selectedDate,\n          this.state.people_tag\n        )\n        .then(\n          res => {\n            console.log(res.data.data.id);\n            localStorage.setItem(\"roomId\", res.data.data.id);\n\n            /**회의 시작 API */\n            service2.getVideoStart(localStorage.getItem(\"roomId\")).then(\n              res => {\n                console.log(\"화상회의에 오신 걸 환영합니다\");\n                console.log(res.data);\n\n                this.props.history.push(\n                  `/room/${localStorage.getItem(\"roomId\")}`\n                );\n              },\n              err => {\n                console.log(err);\n              }\n            );\n\n            // this.props.history.push(`/room/${localStorage.getItem(\"roomId\")}`);\n            console.log(\"바로 넘어가는 회의실 개설 성공\");\n            console.log(res);\n          },\n          err => {\n            console.log(\"바로 넘어가는 회의실 개설 실패\");\n            console.log(err);\n          }\n        );\n    } else {\n      //설정한 시간, 활성화 -> 회의목록으로 넘어가기\n      var datetime = new Date(\n        startDay.getFullYear(),\n        startDay.getMonth(),\n        startDay.getDate(),\n        startDate.getHours(),\n        startDate.getMinutes(),\n        startDate.getSeconds()\n      );\n\n      service\n        .confCreate(\n          localStorage.getItem(\"projectId\"),\n          this.state.roomTitle,\n          this.state.topic_tag,\n          datetime.toISOString(),\n          this.state.people_tag\n        )\n        .then(\n          res => {\n            this.props.history.push(\n              `/home/conferenceRoom/${localStorage.getItem(\"projectId\")}`\n            );\n            console.log(\"회의목록 돌아가서 데이터 확인하자\");\n            this.props.onCloseModal();\n            //TODO: 자동 새로고침 방법\n            this.forceUpdate();\n          },\n          err => {\n            console.log(\"회의목록으로 못돌아감\");\n            console.log(err);\n          }\n        );\n    }\n  };\n\n  startNow() {\n    this.setState({\n      isChecked: !this.state.isChecked,\n      issueCome: false\n    });\n    console.log(this.state.isChecked); // 체크 눌린상태 : false, 체크 떼면 true\n  }\n\n  render() {\n    const { open, title, onCloseModal } = this.props;\n    const { isChecked } = this.state;\n\n    return (\n      <Modal open={open} onClose={onCloseModal} center>\n        <div className=\"makeroomdiv\">\n          <div className=\"roomtitle\">{title}</div>\n          <div className=\"row-div\">\n            <div className=\"roomtitle2\">방제목</div>\n            <input\n              className=\"roominput\"\n              placeholder=\"방 제목을 입력하세요\"\n              onChange={e => {\n                this.setState({\n                  roomTitle: e.target.value\n                });\n              }}\n            />\n          </div>\n\n          <div className=\"row-div\">\n            <div className=\"roomtitle2\">메인 토픽</div>\n            <div className=\"tagdiv\">\n              <TagsTopic\n                callbackFromParent={this.myCallback}\n                issue={this.state.issue}\n                issueCome={this.state.issueCome}\n              />\n\n              <button className=\"getissue\" onClick={this.onOpenModal}>\n                <img src={searchissue} className=\"getissueimg\" alt=\"\" />\n                이슈에서 가져오기\n              </button>\n            </div>\n          </div>\n\n          <MakeIssue\n            open={this.state.open}\n            title={this.state.title}\n            onCloseModal={this.onCloseModal}\n            callbackFromParent={this.myCallback3}\n          />\n\n          <div className=\"row-div\">\n            <div className=\"roomtitle2\">시작 시간</div>\n\n            {/* 체크박스 건들 때 issueCome:false */}\n            {isChecked ? (\n              <div>\n                <DatePicker\n                  id=\"datepicker\"\n                  customInput={<BigDatePicker able=\"disable\" />}\n                  disabled\n                />\n                <DatePicker\n                  id=\"datepicker\"\n                  customInput={<SmallDatePicker able=\"disable\" />}\n                  disabled\n                />\n              </div>\n            ) : (\n              <div>\n                <DatePicker\n                  id=\"datepicker\"\n                  customInput={<BigDatePicker able=\"able\" />}\n                  selected={this.state.startDay}\n                  onChange={this.handleChange}\n                  minDate={new Date()}\n                  relativeSize={true}\n                  dateFormat=\"yyyy/MM/dd\"\n                />\n                <DatePicker\n                  id=\"datepicker\"\n                  customInput={<SmallDatePicker able=\"able\" />}\n                  selected={this.state.startDate}\n                  onChange={this.handleChange2}\n                  showTimeSelect\n                  showTimeSelectOnly\n                  dateFormat=\"h:mm aa\"\n                  timeCaption=\"Time:\"\n                  relativeSize={true}\n                />\n              </div>\n            )}\n\n            <label className=\"time-start-label\">\n              <input\n                type=\"checkbox\"\n                checked={this.state.isChecked}\n                onChange={this.startNow}\n                className=\"checkbox\"\n              />\n              지금 시작\n            </label>\n          </div>\n\n          <div className=\"row-div\">\n            <div className=\"roomtitle2\">참여자</div>\n            <div className=\"tag-inline-div\">\n              <TagsPeople callbackFromParent={this.myCallback2} />\n            </div>\n          </div>\n\n          <div className=\"row-div2\">\n            <button className=\"makebutton\" onClick={this.gotoVideo}>\n              개설\n            </button>\n\n            <button className=\"cancelbutton\" onClick={onCloseModal}>\n              취소\n            </button>\n          </div>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nexport default withRouter(MakeRoom);\n"]},"metadata":{},"sourceType":"module"}
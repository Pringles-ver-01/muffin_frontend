{"ast":null,"code":"import _toConsumableArray from \"/Users/boogiewoogie/WebstormProjects/muffin_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/boogiewoogie/WebstormProjects/muffin_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/boogiewoogie/WebstormProjects/muffin_frontend/src/components/login/my_page/my_opinion/MyOpinion.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"./myOpinion.style.css\";\nimport axios from \"axios\";\n\nvar MyOpinion = function MyOpinion() {\n  var url = \"http://localhost:8080/boards\";\n\n  var _useState = useState(JSON.parse(sessionStorage.getItem(\"logined_user\"))),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      boardArr = _useState4[0],\n      setBoardArr = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pageArr = _useState6[0],\n      setPageArr = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      prev = _useState8[0],\n      setPrev = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      next = _useState10[0],\n      setNext = _useState10[1];\n\n  var _useState11 = useState(1),\n      _useState12 = _slicedToArray(_useState11, 2),\n      page = _useState12[0],\n      setPage = _useState12[1];\n\n  var _useState13 = useState(1),\n      _useState14 = _slicedToArray(_useState13, 2),\n      range = _useState14[0],\n      setRange = _useState14[1];\n\n  var history = useHistory();\n\n  var clickNext = function clickNext() {\n    getMyBoardAll(pageArr[0] + 5, range + 1);\n  };\n\n  var clickPrev = function clickPrev() {\n    getMyBoardAll(pageArr[0] - 1, range - 1);\n  };\n\n  var getMyBoardAll = function getMyBoardAll(page, range) {\n    setPage(page);\n    setRange(range);\n    setPageArr([]);\n    setBoardArr([]);\n    axios.post(\"\".concat(url, \"/myBoard/\").concat(page, \"/\").concat(range), user).then(function (response) {\n      console.log(response.data);\n      response.data.list.map(function (item) {\n        setBoardArr(function (boardArr) {\n          return [].concat(_toConsumableArray(boardArr), [item]);\n        });\n      });\n      var i = 0;\n      var startPage = response.data.pagination.startPage;\n\n      if (response.data.pagination.pageCnt < startPage + response.data.pagination.rangeSize) {\n        for (i; i < response.data.pagination.pageCnt - startPage + 1; i++) {\n          setPageArr(function (pageArr) {\n            return [].concat(_toConsumableArray(pageArr), [startPage + i]);\n          });\n        }\n      } else {\n        for (i; i < response.data.pagination.rangeSize; i++) {\n          setPageArr(function (pageArr) {\n            return [].concat(_toConsumableArray(pageArr), [startPage + i]);\n          });\n        }\n      }\n\n      setPrev(response.data.pagination.prev);\n      setNext(response.data.pagination.next);\n    }).catch(function (err) {\n      return console.log(\"실패\");\n    });\n  };\n\n  useEffect(function () {\n    getMyBoardAll(1, 1);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentroom_container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"documentroom_table\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table_head\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table_my_head_text1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"\\uC81C\\uBAA9\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table_my_head_text2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"\\uB4F1\\uB85D\\uB0A0\\uC9DC\")), boardArr.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"post-ul\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"post-li\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"post-row-list\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/opinion/detail\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"post-row-list-item2\",\n      style: {\n        cursor: \"pointer\"\n      },\n      onClick: function onClick() {\n        sessionStorage.setItem(\"opinionDetail\", JSON.stringify(item));\n        history.push(\"/opinion/detail\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, item.boardTitle)), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"post-row-list-item4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }, item.boardRegdate))));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pagination-div\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pagination\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, prev && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page_button\",\n    id: \"prev\",\n    onClick: clickPrev,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, \"\\uC774\\uC804\"), pageArr.map(function (pagenum) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page_button\",\n      key: pagenum,\n      onClick: function onClick() {\n        getMyBoardAll(pagenum, range);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, pagenum);\n  }), next && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page_button\",\n    id: \"next\",\n    onClick: clickNext,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, \"\\uB2E4\\uC74C\")))));\n};\n\nexport default MyOpinion;","map":{"version":3,"sources":["/Users/boogiewoogie/WebstormProjects/muffin_frontend/src/components/login/my_page/my_opinion/MyOpinion.js"],"names":["React","useState","useEffect","Link","useHistory","axios","MyOpinion","url","JSON","parse","sessionStorage","getItem","user","setUser","boardArr","setBoardArr","pageArr","setPageArr","prev","setPrev","next","setNext","page","setPage","range","setRange","history","clickNext","getMyBoardAll","clickPrev","post","then","response","console","log","data","list","map","item","i","startPage","pagination","pageCnt","rangeSize","catch","err","cursor","setItem","stringify","push","boardTitle","boardRegdate","pagenum"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"./myOpinion.style.css\";\nimport axios from \"axios\";\n\nconst MyOpinion = () => {\n  const url = \"http://localhost:8080/boards\";\n  const [user, setUser] = useState(\n    JSON.parse(sessionStorage.getItem(\"logined_user\"))\n  );\n  const [boardArr, setBoardArr] = useState([]);\n  const [pageArr, setPageArr] = useState([]);\n  const [prev, setPrev] = useState(false);\n  const [next, setNext] = useState(false);\n  const [page, setPage] = useState(1);\n  const [range, setRange] = useState(1);\n  const history = useHistory();\n\n  const clickNext = () => {\n    getMyBoardAll(pageArr[0] + 5, range + 1);\n  };\n\n  const clickPrev = () => {\n    getMyBoardAll(pageArr[0] - 1, range - 1);\n  };\n\n  const getMyBoardAll = (page, range) => {\n    setPage(page);\n    setRange(range);\n    setPageArr([]);\n    setBoardArr([]);\n    axios\n      .post(`${url}/myBoard/${page}/${range}`, user)\n      .then((response) => {\n        console.log(response.data);\n        response.data.list.map((item) => {\n          setBoardArr((boardArr) => [...boardArr, item]);\n        });\n        let i = 0;\n        const startPage = response.data.pagination.startPage;\n        if (\n          response.data.pagination.pageCnt <\n          startPage + response.data.pagination.rangeSize\n        ) {\n          for (i; i < response.data.pagination.pageCnt - startPage + 1; i++)\n            setPageArr((pageArr) => [...pageArr, startPage + i]);\n        } else {\n          for (i; i < response.data.pagination.rangeSize; i++)\n            setPageArr((pageArr) => [...pageArr, startPage + i]);\n        }\n        setPrev(response.data.pagination.prev);\n        setNext(response.data.pagination.next);\n      })\n      .catch((err) => console.log(\"실패\"));\n  };\n\n  useEffect(() => {\n    getMyBoardAll(1, 1);\n  }, []);\n\n  return (\n    <div>\n      <div className=\"documentroom_container\">\n        <div className=\"documentroom_table\">\n          <div className=\"table_head\">\n            <div className=\"table_my_head_text1\">제목</div>\n            <div className=\"table_my_head_text2\">등록날짜</div>\n          </div>\n\n          {boardArr.map((item) => (\n            <ul className=\"post-ul\">\n              <li className=\"post-li\">\n                <ul className=\"post-row-list\">\n                  <Link to=\"/opinion/detail\">\n                    <li\n                      className=\"post-row-list-item2\"\n                      style={{ cursor: \"pointer\" }}\n                      onClick={() => {\n                        sessionStorage.setItem(\n                          \"opinionDetail\",\n                          JSON.stringify(item)\n                        );\n                        history.push(\"/opinion/detail\");\n                      }}\n                    >\n                      {item.boardTitle}\n                    </li>\n                  </Link>\n                  <li className=\"post-row-list-item4\">{item.boardRegdate}</li>\n                </ul>\n              </li>\n            </ul>\n          ))}\n        </div>\n        <div className=\"pagination-div\">\n          <div className=\"pagination\">\n            {prev && (\n              <div className=\"page_button\" id=\"prev\" onClick={clickPrev}>\n                이전\n              </div>\n            )}\n            {pageArr.map((pagenum) => (\n              <div\n                className=\"page_button\"\n                key={pagenum}\n                onClick={() => {\n                  getMyBoardAll(pagenum, range);\n                }}\n              >\n                {pagenum}\n              </div>\n            ))}\n            {next && (\n              <div className=\"page_button\" id=\"next\" onClick={clickNext}>\n                다음\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MyOpinion;\n"]},"metadata":{},"sourceType":"module"}
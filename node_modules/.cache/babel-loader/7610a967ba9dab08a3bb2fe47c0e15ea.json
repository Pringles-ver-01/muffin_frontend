{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\o_ov0\\\\Downloads\\\\Front-End-develop\\\\Front-End-develop\\\\client\\\\src\\\\components\\\\independent\\\\auth\\\\project2\\\\ProjectList.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ProjectFirst from \"../project/ProjectFirst\";\nimport * as service from \"../../../../services/ProjectService\";\nimport { ProjectListContainer, ProjectListHeader, ProjectListItemContainer, ProjectListItemBtn, ProjectListDiv } from \"./projectlist.style\";\nexport var ProjectList = /*#__PURE__*/function (_Component) {\n  _inherits(ProjectList, _Component);\n\n  function ProjectList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProjectList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProjectList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      projectLists: [],\n      open: false,\n      title: \"\",\n      id: \"\",\n      projectTitle: \"\",\n      projectLeader: \"\",\n      projectParticipants: []\n    };\n\n    _this.moveToHome = function (e) {\n      //참여 중인 프로젝트 첫 판단 해야하는 위치\n      var projectName = e.target.name;\n      var projectId = e.target.id;\n      console.log(projectId);\n      service.projectFirst(projectId).then(function (res) {\n        if (res.data.data === false) {\n          //프로젝트 처음 아닐 때\n          localStorage.setItem(\"projectName\", projectName);\n          localStorage.setItem(\"projectId\", projectId);\n\n          _this.props.history.push(\"/home/issue/\".concat(projectId));\n\n          console.log(\"프로젝트 처음 아니니깐 넣는다\", res.data.role);\n          localStorage.setItem(\"myRole\", res.data.role);\n        } else {\n          //프로젝트가 처음일 때\n          console.log(\"첫 판단 성공\");\n\n          _this.setState({\n            id: projectId,\n            open: true,\n            title: \"회의 개설하기\",\n            projectTitle: res.data.data.projectName,\n            projectLeader: res.data.data.projectLeader.name,\n            projectParticipants: res.data.data.projectParticipants\n          });\n\n          localStorage.setItem(\"projectName\", projectName);\n          localStorage.setItem(\"projectId\", projectId);\n          localStorage.setItem(\"myRole\", res.data);\n          console.log(\"projectId\", localStorage.getItem(\"projectId\", projectId));\n\n          _this.props.history.push(\"/auth/projectList/\".concat(projectId));\n        }\n      }, function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.onCloseModal = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ProjectList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      service.getProjectList().then(function (res) {\n        _this2.setState({\n          projectLists: res.data.data\n        });\n\n        console.log(res.data.data);\n      }, function (err) {\n        console.log(\"프로젝트 리스트 가져오기 실패\");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(ProjectListContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(ProjectListHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }\n      }, \"\\uCC38\\uC5EC \\uC911\\uC778 \\uD504\\uB85C\\uC81D\\uD2B8\"), /*#__PURE__*/React.createElement(ProjectListDiv, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }\n      }, \"\\uD604\\uC7AC \\uCC38\\uC5EC \\uC911\\uC778 \\uD504\\uB85C\\uC81D\\uD2B8 \\uC785\\uB2C8\\uB2E4.\"), /*#__PURE__*/React.createElement(ProjectListDiv, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }\n      }, \"\\uC811\\uADFC\\uC744 \\uC6D0\\uD558\\uC2DC\\uB294 \\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694.\"), /*#__PURE__*/React.createElement(ProjectListItemContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }\n      }, Object.keys(this.state.projectLists).map(function (projectListId) {\n        var projectlist = _this3.state.projectLists[projectListId];\n        console.log(\"key\", projectlist.id);\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: projectlist.id,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(ProjectListItemBtn, {\n          id: projectlist.id,\n          name: projectlist.name,\n          onClick: _this3.moveToHome,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }\n        }, projectlist.name), /*#__PURE__*/React.createElement(ProjectFirst, {\n          key: projectlist.id,\n          open: _this3.state.open,\n          title: _this3.state.title,\n          onCloseModal: _this3.onCloseModal,\n          id: _this3.state.id,\n          projectTitle: _this3.state.projectTitle,\n          projectLeader: _this3.state.projectLeader,\n          projectParticipants: _this3.state.projectParticipants,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }\n        }));\n      })));\n    }\n  }]);\n\n  return ProjectList;\n}(Component);\nexport default ProjectList;","map":{"version":3,"sources":["C:/Users/o_ov0/Downloads/Front-End-develop/Front-End-develop/client/src/components/independent/auth/project2/ProjectList.js"],"names":["React","Component","Link","ProjectFirst","service","ProjectListContainer","ProjectListHeader","ProjectListItemContainer","ProjectListItemBtn","ProjectListDiv","ProjectList","state","projectLists","open","title","id","projectTitle","projectLeader","projectParticipants","moveToHome","e","projectName","target","name","projectId","console","log","projectFirst","then","res","data","localStorage","setItem","props","history","push","role","setState","getItem","err","onCloseModal","getProjectList","Object","keys","map","projectListId","projectlist"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ProjectFirst from \"../project/ProjectFirst\";\nimport * as service from \"../../../../services/ProjectService\";\nimport {\n  ProjectListContainer,\n  ProjectListHeader,\n  ProjectListItemContainer,\n  ProjectListItemBtn,\n  ProjectListDiv\n} from \"./projectlist.style\";\n\nexport class ProjectList extends Component {\n  state = {\n    projectLists: [],\n    open: false,\n    title: \"\",\n    id: \"\",\n    projectTitle: \"\",\n    projectLeader: \"\",\n    projectParticipants: []\n  };\n  componentDidMount() {\n    service.getProjectList().then(\n      res => {\n        this.setState({ projectLists: res.data.data });\n        console.log(res.data.data);\n      },\n      err => {\n        console.log(\"프로젝트 리스트 가져오기 실패\");\n      }\n    );\n  }\n\n  moveToHome = e => {\n    //참여 중인 프로젝트 첫 판단 해야하는 위치\n\n    const projectName = e.target.name;\n    const projectId = e.target.id;\n    console.log(projectId);\n\n    service.projectFirst(projectId).then(\n      res => {\n        if (res.data.data === false) {\n          //프로젝트 처음 아닐 때\n          localStorage.setItem(\"projectName\", projectName);\n          localStorage.setItem(\"projectId\", projectId);\n          this.props.history.push(`/home/issue/${projectId}`);\n\n          console.log(\"프로젝트 처음 아니니깐 넣는다\", res.data.role);\n          localStorage.setItem(\"myRole\", res.data.role);\n        } else {\n          //프로젝트가 처음일 때\n          console.log(\"첫 판단 성공\");\n          this.setState({\n            id: projectId,\n            open: true,\n            title: \"회의 개설하기\",\n            projectTitle: res.data.data.projectName,\n            projectLeader: res.data.data.projectLeader.name,\n            projectParticipants: res.data.data.projectParticipants\n          });\n          localStorage.setItem(\"projectName\", projectName);\n          localStorage.setItem(\"projectId\", projectId);\n\n          localStorage.setItem(\"myRole\", res.data);\n          console.log(\n            \"projectId\",\n            localStorage.getItem(\"projectId\", projectId)\n          );\n          this.props.history.push(`/auth/projectList/${projectId}`);\n        }\n      },\n      err => {\n        console.log(err);\n      }\n    );\n  };\n\n  onCloseModal = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    return (\n      <ProjectListContainer>\n        <ProjectListHeader>참여 중인 프로젝트</ProjectListHeader>\n        <ProjectListDiv>현재 참여 중인 프로젝트 입니다.</ProjectListDiv>\n        <ProjectListDiv>접근을 원하시는 프로젝트를 선택하세요.</ProjectListDiv>\n        <ProjectListItemContainer>\n          {Object.keys(this.state.projectLists).map(projectListId => {\n            const projectlist = this.state.projectLists[projectListId];\n\n            console.log(\"key\", projectlist.id);\n            return (\n              <div key={projectlist.id}>\n                <ProjectListItemBtn\n                  id={projectlist.id}\n                  name={projectlist.name}\n                  onClick={this.moveToHome}\n                >\n                  {projectlist.name}\n                </ProjectListItemBtn>\n                <ProjectFirst\n                  key={projectlist.id}\n                  open={this.state.open}\n                  title={this.state.title}\n                  onCloseModal={this.onCloseModal}\n                  id={this.state.id}\n                  projectTitle={this.state.projectTitle}\n                  projectLeader={this.state.projectLeader}\n                  projectParticipants={this.state.projectParticipants}\n                ></ProjectFirst>\n              </div>\n            );\n          })}\n        </ProjectListItemContainer>\n      </ProjectListContainer>\n    );\n  }\n}\n\nexport default ProjectList;\n"]},"metadata":{},"sourceType":"module"}